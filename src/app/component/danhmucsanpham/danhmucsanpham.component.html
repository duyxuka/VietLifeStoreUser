<div class="breadcumb-wrapper" data-bg-src="assets/img/bg/breadcrumb-bg.html">
    <div class="container">
    <div class="breadcumb-content">
        <h1 class="breadcumb-title" data-cue="slideInUp">Danh mục sản phẩm</h1>
        <ul class="breadcumb-menu">
            <li data-cue="slideInUp" data-delay="100"><a href="index.html">Trang chủ</a></li>
            <li data-cue="slideInUp" data-delay="100">Danh mục sản phẩm</li>
        </ul>
    </div>
    </div>
</div>
<section class="mt-50 space-extra-bottom" id="blog-sec">
    <div class="container">
    <div class="row justify-content-center flex-row-reverse">
        <div class="col-xl-9 col-lg-8">
            <div class="ot-sort-bar">
                <div class="row justify-content-md-between justify-content-center align-items-center">
                <div class="col-auto">
                    <p class="woocommerce-result-count">
                        Hiển thị trang {{ fromItem }} - {{ toItem }} có {{ total }} kết quả
                    </p>
                </div>
                <div class="col-auto">
                    <div class="sort-bar-ordering-wrap">
                        <form class="woocommerce-ordering" method="get">
                            <select class="orderby" name="orderby" aria-label="Shop order" (change)="onSortChange($event)">
                                <option value="newest">Sản phẩm mới nhất</option>
                                <option value="oldest">Sản phẩm cũ nhất</option>
                                <option value="name_asc">Tên A → Z</option>
                                <option value="name_desc">Tên Z → A</option>
                                <option value="price_asc">Giá tăng dần</option>
                                <option value="price_desc">Giá giảm dần</option>
                            </select>
                        </form>
                        <div class="nav" role="tablist"><a href="#" id="tab-shop-list" data-bs-toggle="tab" data-bs-target="#tab-list" role="tab" aria-controls="tab-list" aria-selected="false"><i class="fa-solid fa-list"></i></a> <a class="active" href="#" id="tab-shop-grid" data-bs-toggle="tab" data-bs-target="#tab-grid" role="tab" aria-controls="tab-grid" aria-selected="true"><i class="far fa-grid-2"></i></a></div>
                    </div>
                </div>
                </div>
            </div>
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade active show" id="tab-grid" role="tabpanel" aria-labelledby="tab-shop-grid">
                <div class="row gy-30">
                    <div class="col-xxl-3 col-md-6" *ngFor="let item of products">
                        <div class="ot-product product-grid bg-white">
                            <div class="product-img">
                            <img [src]="item.anhDaiDienContent" alt="Product Image"> <span class="product-tag" *ngIf="item.giaKhuyenMai"><span class="tag">-{{item.phanTramGiamGia}}%</span></span>
                            <div class="actions"><a href="wishlist.html" class="icon-btn"><i class="far fa-heart"></i></a> <button class="icon-btn"><i class="fa-light fa-arrows-cross"></i></button> <a href="#QuickView" class="icon-btn popup-content"><i class="far fa-eye"></i></a></div>
                            </div>
                            <div class="product-content">
                            <h3 class="box-title"><a href="chitietsanpham/{{ item.slug }}">{{ item.ten }}</a></h3>
                            <span class="price">{{ item.gia | number}}<del *ngIf="item.giaKhuyenMai">{{ item.giaKhuyenMai | number }}</del></span>
                            <div class="woocommerce-product-rating">
                                <div class="star-rating" role="img" aria-label="Rated 5.00 out of 5"><span>Rated <strong class="rating">5.00</strong> out of 5 based on <span class="rating">1</span> customer rating</span></div>
                            </div>
                            </div>
                            <div class="product-hover-content">
                            <h3 class="box-title"><a href="chitietsanpham/{{ item.slug }}">{{ item.ten }}</a></h3>
                            <span class="price">{{ item.gia | number}}<del *ngIf="item.giaKhuyenMai">{{ item.giaKhuyenMai | number }}</del></span>
                            <div class="woocommerce-product-rating">
                                <div class="star-rating" role="img" aria-label="Rated 5.00 out of 5"><span>Rated <strong class="rating">5.00</strong> out of 5 based on <span class="rating">1</span> customer rating</span></div>
                            </div>
                            <a class="ot-btn" href="cart.html"><i class="fa-light fa-basket-shopping me-1"></i> Add To Cart</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ot-pagination text-center mt-40">
                    <ul>
                        <!-- Previous -->
                        <li>
                        <a
                            href="javascript:void(0)"
                            [class.disabled]="page === 1"
                            (click)="page > 1 && changePage(page - 1)">
                            <i class="fa-regular fa-angle-left"></i>
                        </a>
                        </li>

                        <!-- Page numbers -->
                        <li *ngFor="let p of getTotalPagesArray()">
                        <a
                            href="javascript:void(0)"
                            [class.active]="p === page"
                            (click)="changePage(p)">
                            {{ p }}
                        </a>
                        </li>

                        <!-- Next -->
                        <li>
                        <a
                            href="javascript:void(0)"
                            [class.disabled]="page === totalPages"
                            (click)="page < totalPages && changePage(page + 1)">
                            <i class="fa-regular fa-angle-right"></i>
                        </a>
                        </li>
                    </ul>
                </div>
                </div>
                <div class="tab-pane fade" id="tab-list" role="tabpanel" aria-labelledby="tab-shop-list">
                <div class="row gy-30">
                    <div class="col-12" *ngFor="let item of products">
                        <div class="ot-product product-list bg-white" >
                            <div class="product-img"><img [src]="item.anhDaiDienContent" alt="Product Image"> <span class="product-tag" *ngIf="item.giaKhuyenMai"><span class="tag">-{{ item.phanTramGiamGia }}%</span></span></div>
                            <div class="product-content">
                            <h3 class="box-title"><a href="shop-details.html">{{ item.ten }}</a></h3>
                            <span class="price">{{ item.gia | number}}<del *ngIf="item.giaKhuyenMai">{{ item.giaKhuyenMai | number }}</del></span>
                            <div class="woocommerce-product-rating">
                                <div class="star-rating" role="img" aria-label="Rated 5.00 out of 5"><span>Rated <strong class="rating">5.00</strong> out of 5 based on <span class="rating">1</span> customer rating</span></div>
                            </div>
                            <div class="content" [innerHTML]="item.moTaNgan"></div>
                            <div class="btn-wrap">
                                <a class="ot-btn style7" href="cart.html"><i class="fa-light fa-basket-shopping me-1"></i> Add To Cart</a>
                                <div class="actions"><a href="wishlist.html" class="icon-btn"><i class="far fa-heart"></i></a> <button class="icon-btn"><i class="fa-light fa-arrows-cross"></i></button> <a href="#QuickView" class="icon-btn popup-content"><i class="far fa-eye"></i></a></div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="ot-pagination text-center mt-40">
                    <ul>
                        <!-- Previous -->
                        <li>
                        <a
                            href="javascript:void(0)"
                            [class.disabled]="page === 1"
                            (click)="page > 1 && changePage(page - 1)">
                            <i class="fa-regular fa-angle-left"></i>
                        </a>
                        </li>

                        <!-- Page numbers -->
                        <li *ngFor="let p of getTotalPagesArray()">
                        <a
                            href="javascript:void(0)"
                            [class.active]="p === page"
                            (click)="changePage(p)">
                            {{ p }}
                        </a>
                        </li>

                        <!-- Next -->
                        <li>
                        <a
                            href="javascript:void(0)"
                            [class.disabled]="page === totalPages"
                            (click)="page < totalPages && changePage(page + 1)">
                            <i class="fa-regular fa-angle-right"></i>
                        </a>
                        </li>
                    </ul>
                </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-lg-4 sidebar-wrap">
            <aside class="sidebar-area">
                <div class="widget widget_categories2" data-cue="slideInUp">
                <h3 class="widget_title">Sản phẩm theo danh mục</h3>
                <ul>
                    <li *ngFor="let cat of categories">
                        <input
                            type="checkbox"
                            [id]="cat.slug"
                            [checked]="slug === cat.slug"
                            (change)="onCategoryChange(cat.slug)"
                        />

                        <label [for]="cat.slug">
                            {{ cat.ten }}
                            <span class="checkmark"></span>
                        </label>

                        <span class="category-number">
                            ({{ cat.soLuongSanPham }})
                        </span>
                    </li>
                </ul>
                </div>
            </aside>
        </div>
    </div>
    </div>
</section>